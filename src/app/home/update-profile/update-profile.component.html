<app-header></app-header>
<div class="container-fluid">
    <div class="row">
        <div class="col-md-6 nopadding">
            <div class="bg-left-02">
                <img src="../../assets/images/login-logo.png" class="bg-logo-register" alt="">
            </div>
        </div>
        <div class="col-md-6">
            <div class="right-content">
                <div class="row rc-c">
                    <div class="col-md-12 md-122">                        
                        <h4 style="color: #2490BA;">Update Profile</h4><br>                   
                    <form [formGroup]="updateProfileForm">
                        <div class="form-row">
                            <div class="col-md-6 nopadding">
                                <div class="col-md-12 form-group">
                                    <label>First Name </label>
                                    <input type="text" class="form-control" placeholder="First name" formControlName="fname"
                                    [ngClass]="{ 'is-invalid': f.fname.touched && f.fname.errors }">
                                    <div *ngIf="f.fname.touched && f.fname.errors" class="invalid-feedback">
                                        <div *ngIf="f.fname.errors.required">First name is required</div>
                                        <div *ngIf="f.fname.errors.pattern">Enter only alphabets</div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <label>Last Name</label>
                                    <input type="text" class="form-control" placeholder="Last name" formControlName="lname"
                                    [ngClass]="{ 'is-invalid': f.lname.touched && f.lname.errors }">
                                    <div *ngIf="f.lname.touched && f.lname.errors" class="invalid-feedback">
                                        <div *ngIf="f.lname.errors.required">Last name is required</div>
                                        <div *ngIf="f.lname.errors.pattern">Enter only alphabets</div>
                                    </div>                             
                                </div>
                                <div class="col-md-12 form-group">
                                    <label>Mobile No </label>
                                    <input type="text" class="form-control" placeholder="Mobile No" formControlName="username"
                                    [ngClass]="{ 'is-invalid': f.username.touched && f.username.errors }">
                                    <div *ngIf="f.username.touched && f.username.errors" class="invalid-feedback">
                                        <div *ngIf="f.username.errors.required">Mobile number is required</div>
                                        <div *ngIf="f.username.errors.pattern">Must be a valid mobile number</div>
                                    </div>
                                </div>
                            </div> 
                            <div class="col-md-6 nopadding">
                                <div class="col-md-12 form-group" style="margin-top: 28px;">
                                     <div class="upload-btn-wrapper">
                                        <label> Update Profile Image
                                            <input type="file" size="60" (change)="onSelectFile($event)" accept=".png, .jpg, .jpeg">
                                        </label> 
                                    </div>
                                    <div class="profileImg" *ngIf="!usreImage">
                                        <img src="../../../assets/images/car.png" alt="" style="width: 100%; height: 135px;">
                                    </div>
                                    <div class="profileImg" *ngIf="usreImage">
                                        <img src="{{ image }}" alt="" style="width: 100%; height: 135px;">
                                    </div>
                                </div>
                            </div>                           
                        </div>
                        <div class="form-group">
                            <button type="button" class="btn btn-info btn-sm updateBtn" (click)="updateDetails()" [disabled]="!updateProfileForm.valid">Update Profile</button>
                        </div>
                    </form>
                </div>
            </div>
            </div>
        </div>
    </div>
</div>

<!-- Mobile otp verification modal pop-up -->

<div class="modal fade md-11" id="mobileModal">
    <div class="modal-dialog modal-md">
    <span class="pop"><img src="../../assets/images/popup.png" alt="" class="model-img"> </span>
      <div class="modal-content mc-r">
        <div class="modal-header text-center">
          <h4 class="modal-title">Verify your mobile</h4>
        </div>
        <div class="modal-body">
            <form [formGroup]="mobileOtpForm" autocomplete="off">
                <div class="form-row">
                    <div class="col form-group">
                        <input type="text" class="form-control mobileEmail" placeholder="Enter 4 digit mobile OTP"  autocomplete="off"
                        formControlName="Mpassword" [ngClass]="{ 'is-invalid': m.Mpassword.touched && m.Mpassword.errors }">
                        <div *ngIf="m.Mpassword.touched && m.Mpassword.errors" class="invalid-feedback">
                            <div *ngIf="m.Mpassword.errors.required">OTP is required</div>
                            <div *ngIf="m.Mpassword.errors.minlength || m.Mpassword.errors.maxlength">Plesae enter 4 digit OTP</div>
                        </div>
                    </div>
                </div>
            </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-danger btn-sm" (click)="mobileDismiss()">Close</button>
          <button type="button" class="btn btn-info btn-sm" (click)="mobileOTPVerify()">Verify</button>
        </div>
      </div>
    </div>
</div>

<!-- end -->